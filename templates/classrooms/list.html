{% extends 'base.html' %}
{% block page_title %}教室管理{% endblock %}
{% block page_header %}教室管理{% endblock %}
{% block page_actions %}<a href="/classrooms/create/" class="btn btn-dark">新增</a>{% endblock %}
{% block content %}
<form class="row g-2 mb-3" method="get">
    <div class="col-md-9"><input type="text" name="q" value="{{ q }}" class="form-control" placeholder="搜索教室..."></div>
    <div class="col-md-3"><button class="btn btn-outline-secondary w-100" type="submit">搜索</button></div>
</form>
<div class="card shadow-sm">
    <div class="card-body p-0">
        <table class="table mb-0 align-middle">
            <thead>
                <tr>
                    <th>名称</th>
                    <th>位置</th>
                    <th>容量</th>
                    <th>状态</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                {% for r in items %}
                <tr>
                    <td>{{ r.name }}</td>
                    <td>{{ r.location }}</td>
                    <td>{{ r.capacity }}</td>
                    <td>{{ r.status }}</td>
                    <td>
                        <a href="/classrooms/edit/{{ r.id }}/" class="btn btn-outline-dark btn-sm">编辑</a>
                        <a href="/classrooms/delete/{{ r.id }}/" class="btn btn-outline-danger btn-sm">删除</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" class="text-center text-muted">暂无教室</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="card-footer bg-white">
        <nav>
            <ul class="pagination mb-0">
                {% if items.has_previous %}<li class="page-item"><a class="page-link"
                        href="?page={{ items.previous_page_number }}&q={{ q }}">上一页</a></li>{% endif %}
                <li class="page-item active"><span class="page-link">{{ items.number }}</span></li>
                {% if items.has_next %}<li class="page-item"><a class="page-link"
                        href="?page={{ items.next_page_number }}&q={{ q }}">下一页</a></li>{% endif %}
            </ul>
        </nav>
    </div>
</div>
{% endblock %}