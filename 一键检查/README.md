# 一键检查工具包

这个目录包含了所有项目检查和初始化相关的脚本，提供统一的检查入口。

## 📁 文件说明

### 主入口脚本
- **一键检查.py** - 主入口脚本，提供菜单选择所有检查功能
- **一键检查.bat** - Windows启动脚本
- **一键检查.sh** - Linux/Mac启动脚本

### 检查脚本
- **check_setup.py** - 项目配置检查
  - 检查文件是否存在
  - 检查环境变量配置
  - 检查Python依赖
  - 检查数据库连接

- **setup.py** - 项目初始化脚本
  - 创建.env文件
  - 安装依赖
  - 运行数据库迁移
  - 创建超级管理员

- **check_before_import.py** - 导入前检查
  - 检查班级是否存在
  - 检查时间段是否初始化
  - 检查管理员用户
  - 检查已有数据

- **check_friday_slots.py** - 周五时间段检查
  - 检查周五的时间段配置
  - 显示各工作日时间段数量

## 🚀 使用方法

### Windows用户

```bash
# 方式一：双击运行
一键检查.bat

# 方式二：命令行运行
cd 一键检查
python 一键检查.py
```

### Linux/Mac用户

```bash
# 添加执行权限（首次运行）
chmod +x 一键检查/一键检查.sh

# 运行
./一键检查/一键检查.sh

# 或直接运行Python脚本
cd 一键检查
python 一键检查.py
```

## 📋 功能说明

### 1. 项目配置检查
检查项目的基本配置是否正确：
- ✅ 关键文件是否存在
- ✅ 环境变量配置
- ✅ Python依赖包
- ✅ 数据库连接

### 2. 项目初始化
自动完成项目的初始设置：
- 📝 创建.env配置文件
- 📦 安装所有依赖包
- 🗄️ 运行数据库迁移
- 👤 创建超级管理员账户

### 3. 导入前检查
在导入课表数据前检查系统状态：
- 🏫 检查班级是否存在
- ⏰ 检查时间段是否初始化
- 👨‍💼 检查管理员用户
- 📊 检查已有数据冲突

### 4. 周五时间段检查
检查周五的时间段配置：
- 📅 显示周五所有时间段
- 📈 显示各工作日时间段数量统计

### 5. 执行所有检查
一键执行所有可用的检查项目。

## 💡 使用建议

1. **首次使用项目**：运行"项目初始化"
2. **配置完成后**：运行"项目配置检查"验证配置
3. **导入数据前**：运行"导入前检查"确保系统就绪
4. **排查问题**：运行"执行所有检查"全面检查

## ⚠️ 注意事项

- 某些检查需要Django环境已配置（如导入前检查、周五时间段检查）
- 数据库相关检查需要MySQL服务已启动
- 确保在项目根目录运行脚本（脚本会自动切换到项目根目录）

## 🔧 独立运行

如果需要单独运行某个检查脚本：

```bash
# 项目配置检查
python 一键检查/check_setup.py

# 项目初始化
python 一键检查/setup.py

# 导入前检查
python 一键检查/check_before_import.py

# 周五时间段检查
python 一键检查/check_friday_slots.py
```
