# 📚 课程管理系统使用指南

## 快速开始

### 一、搜索和查看课程

#### 实时搜索
- 在搜索框输入**课程名称**或**老师姓名**
- 系统自动实时搜索，无需点击按钮

#### 筛选课程
1. 选择**学院**下拉菜单
2. 选择**专业**下拉菜单（自动加载该学院的专业）
3. 课程列表自动更新

#### 课程显示格式
```
课程名称—老师姓名
```
例如：`高等数学—张三`

### 二、编辑课程

#### 步骤
1. 找到要编辑的课程
2. 点击课程旁的 **✏️ 编辑按钮**
3. 在弹出窗口中修改：
   - 课程名称
   - 课程类型（必修/选修）
   - 课程教师

#### 选择教师的三种方式
1. **直接搜索**：在"搜索教师"框输入姓名或工号
2. **学院筛选**：先选学院，再从列表中选择
3. **学院-专业筛选**：先选学院，再选专业，精确筛选

4. 点击**保存**按钮

### 三、新增课程

#### 必填信息
- ✅ 课程名称
- ✅ 必修/选修
- ✅ 课程教师

#### 可选信息
- 学院-专业（不填表示**跨学院课程**，可以给任何班级排课）

#### 操作步骤
1. 填写课程名称
2. 选择必修或选修
3. 选择教师（支持搜索和筛选）
4. 如果是特定专业课程，选择学院-专业
5. 如果是通用课程（如体育、英语），可以不选专业
6. 点击**新增**按钮

### 四、拖拽排课

#### 基本操作
1. **勾选课程**：在课程列表中勾选要排课的课程
2. **选择班级**：使用筛选器选择目标班级
3. **拖拽排课**：
   - 选中的课程会出现在"课程调色板"中
   - 格式显示为"课程名—老师"
   - 拖拽课程卡片到课表的空白格子
   - 松开鼠标即可完成排课

### 五、智能排课 🚀

#### 什么是智能排课？
自动为选中的课程安排**第1-20周**、**周一至周五**的课表

#### 排课规则
- ✨ **必修课优先上午**
- ✨ **选修课安排在下午**
- ✨ **自动避免冲突**（教师、班级、教室）
- ✨ **均匀分布**在工作日

#### 使用步骤
1. 勾选要排课的课程
2. 选择目标班级
3. 点击**智能排课**按钮
4. 确认提示（排课20周，周一至周五）
5. 等待系统自动排课完成

#### 注意事项
⚠️ 智能排课会在现有课表基础上添加课程
⚠️ 建议排课前先检查现有课表

### 六、冲突检测 🔍

#### 什么是冲突？
- **教师冲突**：同一老师在同一时间有多节课
- **班级冲突**：同一班级在同一时间有多节课
- **教室冲突**：同一教室在同一时间被多次使用

#### 检测步骤
1. 选择班级查看课表
2. 点击**冲突检测**按钮
3. 查看检测结果：

**情况一：无冲突** ✅
```
✓ 检测完成 - 无冲突
未发现任何冲突，课程安排正常！
```

**情况二：发现冲突** ⚠️
```
弹出窗口显示：
- 冲突数量
- 每个冲突的详细信息
  - 时间：第X周 周X 第X节
  - 冲突类型：教师冲突/班级冲突/教室冲突
  - 涉及课程数
```

#### 冲突可视化
- 有冲突的课程会在课表中**标红显示**
- 方便快速定位问题

### 七、自动优化 ✨

#### 什么是自动优化？
系统自动调整冲突课程到其他可用时间段，解决所有冲突

#### 使用场景
- 冲突检测发现多处冲突
- 手动调整太复杂
- 需要快速解决冲突

#### 操作步骤
1. 冲突检测后，在弹出窗口中
2. 点击**🔧 自动优化**按钮
3. 确认提示
4. 系统自动优化
5. 查看优化结果：
   - ✅ 全部成功
   - ⚠️ 部分成功（显示失败原因）

#### 优化策略
- 保留第一个课程在原位置
- 将其他冲突课程移到空闲时间
- 确保移动后不产生新冲突

## 常见问题

### Q1：什么是跨学院课程？
**A**：不指定专业的课程，可以给任何学院、任何专业、任何班级排课。
例如：英语、体育、思政等通识课程。

### Q2：智能排课会覆盖现有课表吗？
**A**：不会。智能排课只在空白时间段添加课程，不会删除或覆盖已有课程。

### Q3：自动优化失败怎么办？
**A**：可能原因：
- 课表已经很满，没有空闲时间段
- 教师时间已满
- 教室资源不足

**解决方法**：
1. 手动删除一些非必要课程
2. 调整教师安排
3. 分批次排课

### Q4：可以撤销排课吗？
**A**：可以。点击课表中的课程，然后点击删除按钮即可。

### Q5：如何批量删除课程？
**A**：在课表视图中，选中多个课程，点击批量删除按钮。

## 最佳实践

### ✅ 建议的工作流程

1. **准备阶段**
   - 添加所有需要的课程
   - 为每个课程指定教师
   - 通识课程不指定专业

2. **排课阶段**
   - 先排必修课
   - 再排选修课
   - 使用智能排课节省时间

3. **检查阶段**
   - 排课完成后立即冲突检测
   - 发现冲突及时优化
   - 再次检测确认

4. **调整阶段**
   - 根据实际需要微调
   - 可以拖拽调整个别课程
   - 最后再检测一次

### ⚠️ 避免的操作

- ❌ 排课前不检查现有课表
- ❌ 重复执行智能排课
- ❌ 忽略冲突警告
- ❌ 不保存常用配置

## 快捷键（规划中）

- `Ctrl + S`：保存当前课表
- `Ctrl + Z`：撤销操作
- `Ctrl + F`：快速搜索
- `Del`：删除选中课程

## 技术支持

遇到问题？
1. 检查网络连接
2. 刷新页面重试
3. 查看浏览器控制台错误信息
4. 联系系统管理员

---

**提示**：本指南适用于EduCloud课程管理系统 v2.0+

最后更新：2025年12月

