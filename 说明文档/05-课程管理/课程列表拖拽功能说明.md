# 📋 课程列表拖拽功能说明

## 功能概述

在课程管理界面左侧新增了**可拖拽的课程列表**，方便您快速查看所有课程并直接拖拽到课表中进行排课。

## 界面位置

```
课程管理页面左侧
├── 课程搜索与筛选
├── 新增/编辑课程
├── 📋 课程列表 ⭐ (新增)
├── 智能排课
└── 冲突检测
```

## 功能特点

### 1. 实时更新 🔄
- 搜索课程后自动更新列表
- 筛选学院/专业后自动更新
- 新增课程后自动刷新

### 2. 清晰显示 📊
每个课程卡片显示：
- **课程名称**（加粗显示）
- **授课教师**（图标 + 姓名）
- **课程类型**（必修/选修标签）

### 3. 拖拽排课 🎯
- **拖拽手势**：鼠标悬停变为"抓手"图标
- **实时反馈**：拖拽时卡片半透明
- **高亮效果**：悬停时卡片高亮并向右移动

### 4. 课程统计 📈
- 顶部显示课程总数（蓝色徽章）
- 实时更新课程数量

## 使用方法

### 基本拖拽排课

1. **查看课程列表**
   - 打开课程管理页面
   - 课程列表自动加载所有课程

2. **搜索/筛选（可选）**
   - 在搜索框输入课程名或教师名
   - 或使用学院/专业下拉框筛选
   - 列表自动更新

3. **拖拽排课**
   ```
   步骤：
   ① 鼠标悬停在课程卡片上（变成抓手图标）
   ② 按住鼠标左键不放
   ③ 拖动到右侧课表的目标格子
   ④ 松开鼠标完成排课
   ```

4. **确认排课**
   - 课程会立即显示在课表中
   - 显示课程名称、教师、教室等信息

### 高级技巧

#### 快速排课流程
```
1. 筛选目标学院/专业的课程
2. 在右侧选择目标班级
3. 依次拖拽必修课到课表
4. 再拖拽选修课
5. 最后使用"冲突检测"确认
```

#### 批量排课
```
方法一：逐个拖拽
- 适合精确控制每节课的时间

方法二：智能排课
- 适合快速排课
- 点击"智能排课"按钮
- 系统自动安排20周课表
```

## 界面展示

### 课程列表卡片样式

```
┌────────────────────────────────┐
│ 高等数学                    [必修]│
│ 👤 张三                          │
└────────────────────────────────┘
   ↑ 鼠标悬停时高亮并向右移动
```

### 拖拽状态

```
正常状态：白色背景，灰色边框
悬停状态：淡蓝背景，蓝色边框，向右移动
拖拽中：  半透明，抓手图标
```

## 视觉反馈

### 颜色标识
- **必修课标签**：红色背景（#ffe5e5）
- **选修课标签**：蓝色背景（#e5f3ff）
- **悬停高亮**：主题色（#4318ff）

### 图标说明
- 📚 课程列表标题
- 👤 授课教师
- 🔄 刷新按钮
- 📊 课程数量徽章

## 快捷操作

### 刷新课程列表
点击列表标题旁的 🔄 刷新按钮

### 查看完整信息
鼠标悬停在课程名称上显示完整信息：
- 课程名称
- 教师姓名

## 常见问题

### Q1: 为什么课程列表是空的？
**A**: 可能原因：
1. 还没有添加课程 → 使用"新增课程"功能
2. 筛选条件过严 → 清空筛选条件重试
3. 网络问题 → 点击刷新按钮

### Q2: 拖拽后没有反应？
**A**: 检查：
1. 是否已选择目标班级（右侧筛选器）
2. 目标时间段是否已有课程（会冲突）
3. 浏览器是否支持拖拽功能

### Q3: 如何快速找到课程？
**A**: 三种方法：
1. 使用搜索框输入课程名
2. 使用学院/专业筛选
3. 滚动浏览列表（支持鼠标滚轮）

### Q4: 列表可以显示多少课程？
**A**: 
- 默认显示所有课程
- 列表高度最大300px
- 超过自动显示滚动条

### Q5: 拖拽和智能排课有什么区别？
**A**: 
| 功能 | 拖拽排课 | 智能排课 |
|------|---------|---------|
| 控制程度 | 完全手动，精确控制 | 自动化，批量处理 |
| 适用场景 | 少量课程，特殊要求 | 大量课程，快速排课 |
| 时间消耗 | 较慢（逐个操作） | 快速（一键完成） |
| 灵活性 | 高（想排哪就排哪） | 低（按算法排列） |

## 技术细节

### 拖拽实现
- 使用HTML5 Drag and Drop API
- 支持所有现代浏览器
- 移动端暂不支持（需触摸事件）

### 数据同步
- 拖拽排课后立即保存到服务器
- 课表自动刷新显示最新数据
- 支持撤销操作（点击课程上的删除按钮）

### 性能优化
- 列表虚拟滚动（大量课程时）
- 防抖搜索（300ms延迟）
- 按需加载课程详情

## 最佳实践

### ✅ 推荐的工作流程

1. **准备阶段**
   - 添加所有需要的课程
   - 确认教师信息正确

2. **筛选阶段**
   - 使用学院/专业筛选
   - 缩小课程范围

3. **排课阶段**
   - 选择目标班级
   - 拖拽课程到课表
   - 优先排必修课

4. **检查阶段**
   - 使用冲突检测
   - 调整冲突课程

### ⚠️ 注意事项

1. **拖拽前确认**
   - ✅ 已选择目标班级
   - ✅ 目标时间段为空
   - ✅ 教师时间可用

2. **避免重复排课**
   - 同一课程不要重复拖拽到同一时间段
   - 使用冲突检测发现问题

3. **保存习惯**
   - 拖拽后自动保存
   - 无需手动保存
   - 建议定期冲突检测

## 键盘快捷键（规划中）

- `Ctrl + F`：聚焦搜索框
- `Ctrl + R`：刷新课程列表
- `ESC`：取消拖拽

## 更新日志

### v1.0 (2025-12-09)
- ✅ 新增课程列表功能
- ✅ 支持拖拽排课
- ✅ 实时搜索和筛选
- ✅ 视觉反馈优化
- ✅ 课程数量统计

## 反馈与建议

如果您在使用过程中遇到问题或有改进建议，请：
1. 检查本文档的常见问题部分
2. 尝试刷新页面
3. 联系系统管理员

---

**提示**：课程列表与智能排课功能可以配合使用，手动拖拽精确控制，智能排课批量处理！

**最后更新**: 2025年12月9日

